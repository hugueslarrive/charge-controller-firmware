<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Libre Solar Charge Controller Firmware: Dcdc Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Libre Solar Charge Controller Firmware
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classDcdc.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">Dcdc Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="dcdc_8h_source.html">dcdc.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1b7166e2159649c44261bc1edc407ad8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDcdc.html#a1b7166e2159649c44261bc1edc407ad8">Dcdc</a> (<a class="el" href="classDcBus.html">DcBus</a> *high, <a class="el" href="classDcBus.html">DcBus</a> *low, <a class="el" href="dcdc_8h.html#a3e5b2912733f0851a6e26bb61b3db32d">DcdcOperationMode</a> <a class="el" href="classDcdc.html#a3a9d02ef12dc190a2c09ab7f8f88c84a">mode</a>)</td></tr>
<tr class="separator:a1b7166e2159649c44261bc1edc407ad8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87ff9cd1a91eb23358937a5713dcc993"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dcdc_8h.html#a3e5b2912733f0851a6e26bb61b3db32d">DcdcOperationMode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDcdc.html#a87ff9cd1a91eb23358937a5713dcc993">check_start_conditions</a> ()</td></tr>
<tr class="separator:a87ff9cd1a91eb23358937a5713dcc993"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4fa9967257ff854b5aaf1e7d4c112db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDcdc.html#ad4fa9967257ff854b5aaf1e7d4c112db">control</a> ()</td></tr>
<tr class="separator:ad4fa9967257ff854b5aaf1e7d4c112db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7215e0d3e8b222c129c2dc7aa3360908"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDcdc.html#a7215e0d3e8b222c129c2dc7aa3360908">test</a> ()</td></tr>
<tr class="separator:a7215e0d3e8b222c129c2dc7aa3360908"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8f5471b62eb6b255a2e8c93af739659"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDcdc.html#ac8f5471b62eb6b255a2e8c93af739659">stop</a> ()</td></tr>
<tr class="separator:ac8f5471b62eb6b255a2e8c93af739659"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afae9e3de9f42acc5d1fa0a997b506ab0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDcdc.html#afae9e3de9f42acc5d1fa0a997b506ab0">fuse_destruction</a> ()</td></tr>
<tr class="separator:afae9e3de9f42acc5d1fa0a997b506ab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a3a9d02ef12dc190a2c09ab7f8f88c84a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3a9d02ef12dc190a2c09ab7f8f88c84a"></a>
<a class="el" href="dcdc_8h.html#a3e5b2912733f0851a6e26bb61b3db32d">DcdcOperationMode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDcdc.html#a3a9d02ef12dc190a2c09ab7f8f88c84a">mode</a></td></tr>
<tr class="memdesc:a3a9d02ef12dc190a2c09ab7f8f88c84a"><td class="mdescLeft">&#160;</td><td class="mdescRight">DC/DC mode (buck, boost or nanogrid) <br /></td></tr>
<tr class="separator:a3a9d02ef12dc190a2c09ab7f8f88c84a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f5bf624f9391a184b3f9e94f552750a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6f5bf624f9391a184b3f9e94f552750a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDcdc.html#a6f5bf624f9391a184b3f9e94f552750a">enable</a></td></tr>
<tr class="memdesc:a6f5bf624f9391a184b3f9e94f552750a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Can be used to disable the DC/DC power stage. <br /></td></tr>
<tr class="separator:a6f5bf624f9391a184b3f9e94f552750a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae237a4d26d0399eedaa82fe98408f319"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae237a4d26d0399eedaa82fe98408f319"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDcdc.html#ae237a4d26d0399eedaa82fe98408f319">state</a></td></tr>
<tr class="memdesc:ae237a4d26d0399eedaa82fe98408f319"><td class="mdescLeft">&#160;</td><td class="mdescRight">Control state (off / MPPT / CC / CV) <br /></td></tr>
<tr class="separator:ae237a4d26d0399eedaa82fe98408f319"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4df09276042a30df9c28df6965ce32cc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4df09276042a30df9c28df6965ce32cc"></a>
<a class="el" href="classDcBus.html">DcBus</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDcdc.html#a4df09276042a30df9c28df6965ce32cc">hvb</a></td></tr>
<tr class="memdesc:a4df09276042a30df9c28df6965ce32cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to DC bus at high voltage side. <br /></td></tr>
<tr class="separator:a4df09276042a30df9c28df6965ce32cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6462df662b9d2dc3500e839762604e7a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6462df662b9d2dc3500e839762604e7a"></a>
<a class="el" href="classDcBus.html">DcBus</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDcdc.html#a6462df662b9d2dc3500e839762604e7a">lvb</a></td></tr>
<tr class="memdesc:a6462df662b9d2dc3500e839762604e7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to DC bus at low voltage (inductor) side. <br /></td></tr>
<tr class="separator:a6462df662b9d2dc3500e839762604e7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93ae3f19d1211813e1aa816eb7976c12"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a93ae3f19d1211813e1aa816eb7976c12"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDcdc.html#a93ae3f19d1211813e1aa816eb7976c12">inductor_current</a></td></tr>
<tr class="memdesc:a93ae3f19d1211813e1aa816eb7976c12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inductor current. <br /></td></tr>
<tr class="separator:a93ae3f19d1211813e1aa816eb7976c12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f2833012a9dda298c72240a59bf601e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2f2833012a9dda298c72240a59bf601e"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDcdc.html#a2f2833012a9dda298c72240a59bf601e">power</a></td></tr>
<tr class="memdesc:a2f2833012a9dda298c72240a59bf601e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Low-side power. <br /></td></tr>
<tr class="separator:a2f2833012a9dda298c72240a59bf601e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfad3e3ba92bfa67e7388746372eccae"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acfad3e3ba92bfa67e7388746372eccae"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDcdc.html#acfad3e3ba92bfa67e7388746372eccae">temp_mosfets</a></td></tr>
<tr class="memdesc:acfad3e3ba92bfa67e7388746372eccae"><td class="mdescLeft">&#160;</td><td class="mdescRight">MOSFET temperature measurement (if existing) <br /></td></tr>
<tr class="separator:acfad3e3ba92bfa67e7388746372eccae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81661f12937c507e059166760cae2859"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a81661f12937c507e059166760cae2859"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDcdc.html#a81661f12937c507e059166760cae2859">power_prev</a></td></tr>
<tr class="memdesc:a81661f12937c507e059166760cae2859"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores previous conversion power (set via dcdc_control) <br /></td></tr>
<tr class="separator:a81661f12937c507e059166760cae2859"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a217b9c2164b045d812a9c9c55b386b10"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a217b9c2164b045d812a9c9c55b386b10"></a>
int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDcdc.html#a217b9c2164b045d812a9c9c55b386b10">pwm_delta</a></td></tr>
<tr class="memdesc:a217b9c2164b045d812a9c9c55b386b10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Direction of PWM change for MPPT. <br /></td></tr>
<tr class="separator:a217b9c2164b045d812a9c9c55b386b10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a812fd091e04199d77398c6e5347e866e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a812fd091e04199d77398c6e5347e866e"></a>
int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDcdc.html#a812fd091e04199d77398c6e5347e866e">off_timestamp</a></td></tr>
<tr class="memdesc:a812fd091e04199d77398c6e5347e866e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last time the DC/DC was switched off. <br /></td></tr>
<tr class="separator:a812fd091e04199d77398c6e5347e866e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3da9c8b2189c0d76ea6eafddb3ed6ef"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad3da9c8b2189c0d76ea6eafddb3ed6ef"></a>
int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDcdc.html#ad3da9c8b2189c0d76ea6eafddb3ed6ef">power_good_timestamp</a></td></tr>
<tr class="memdesc:ad3da9c8b2189c0d76ea6eafddb3ed6ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last time the DC/DC reached above minimum output power. <br /></td></tr>
<tr class="separator:ad3da9c8b2189c0d76ea6eafddb3ed6ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a2e900a573ffaa254933aeba2efb110"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8a2e900a573ffaa254933aeba2efb110"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDcdc.html#a8a2e900a573ffaa254933aeba2efb110">inductor_current_max</a> = 0</td></tr>
<tr class="memdesc:a8a2e900a573ffaa254933aeba2efb110"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum low-side (inductor) current. <br /></td></tr>
<tr class="separator:a8a2e900a573ffaa254933aeba2efb110"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa7d3cb39db17f7a49a7dea209ad9833"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaa7d3cb39db17f7a49a7dea209ad9833"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDcdc.html#aaa7d3cb39db17f7a49a7dea209ad9833">hs_voltage_max</a> = 0</td></tr>
<tr class="memdesc:aaa7d3cb39db17f7a49a7dea209ad9833"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum high-side voltage. <br /></td></tr>
<tr class="separator:aaa7d3cb39db17f7a49a7dea209ad9833"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50ef0d44cf610aeb35b52de0aa46ce37"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a50ef0d44cf610aeb35b52de0aa46ce37"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDcdc.html#a50ef0d44cf610aeb35b52de0aa46ce37">ls_voltage_max</a></td></tr>
<tr class="memdesc:a50ef0d44cf610aeb35b52de0aa46ce37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum low-side voltage. <br /></td></tr>
<tr class="separator:a50ef0d44cf610aeb35b52de0aa46ce37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52b25b2d8c0c615df655b8adda44fc7b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a52b25b2d8c0c615df655b8adda44fc7b"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDcdc.html#a52b25b2d8c0c615df655b8adda44fc7b">ls_voltage_min</a></td></tr>
<tr class="memdesc:a52b25b2d8c0c615df655b8adda44fc7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum low-side voltage, e.g. for driver supply. <br /></td></tr>
<tr class="separator:a52b25b2d8c0c615df655b8adda44fc7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d3ae280d6ba4f579fb1544589dd1896"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6d3ae280d6ba4f579fb1544589dd1896"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDcdc.html#a6d3ae280d6ba4f579fb1544589dd1896">output_power_min</a></td></tr>
<tr class="memdesc:a6d3ae280d6ba4f579fb1544589dd1896"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum output power (if lower, DC/DC is switched off) <br /></td></tr>
<tr class="separator:a6d3ae280d6ba4f579fb1544589dd1896"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ea68a948902a5f8aa80d670d5fd3c2f"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDcdc.html#a4ea68a948902a5f8aa80d670d5fd3c2f">restart_interval</a></td></tr>
<tr class="separator:a4ea68a948902a5f8aa80d670d5fd3c2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>DC/DC class</p>
<p>Contains all data belonging to the DC/DC sub-component of the PCB, incl. actual measurements and calibration parameters. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a1b7166e2159649c44261bc1edc407ad8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Dcdc::Dcdc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDcBus.html">DcBus</a> *&#160;</td>
          <td class="paramname"><em>high</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDcBus.html">DcBus</a> *&#160;</td>
          <td class="paramname"><em>low</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dcdc_8h.html#a3e5b2912733f0851a6e26bb61b3db32d">DcdcOperationMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize DC/DC and DC/DC port structs</p>
<p>See <a href="http://libre.solar/docs/dcdc_control">http://libre.solar/docs/dcdc_control</a> for detailed information</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">high</td><td>High voltage bus (e.g. solar input for MPPT buck) </td></tr>
    <tr><td class="paramname">low</td><td>Low voltage bus (e.g. battery output for MPPT buck) </td></tr>
    <tr><td class="paramname">mode</td><td>Operation mode (buck, boost or nanogrid) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a87ff9cd1a91eb23358937a5713dcc993"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak <a class="el" href="dcdc_8h.html#a3e5b2912733f0851a6e26bb61b3db32d">DcdcOperationMode</a> Dcdc::check_start_conditions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check for valid start conditions of the DC/DC converter</p>
<dl class="section return"><dt>Returns</dt><dd>operation mode that is valid for starting up </dd></dl>

</div>
</div>
<a class="anchor" id="ad4fa9967257ff854b5aaf1e7d4c112db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void Dcdc::control </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Main control function for the DC/DC converter</p>
<p>If DC/DC is off, this function checks start conditions and starts conversion if possible. </p>

</div>
</div>
<a class="anchor" id="afae9e3de9f42acc5d1fa0a997b506ab0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Dcdc::fuse_destruction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prevent overcharging of battery in case of shorted HS MOSFET</p>
<p>This function switches the LS MOSFET continuously on to blow the battery input fuse. The reason for self destruction should be logged and stored to EEPROM prior to calling this function, as the charge controller power supply will be cut after the fuse is destroyed. </p>

</div>
</div>
<a class="anchor" id="ac8f5471b62eb6b255a2e8c93af739659"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Dcdc::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fast stop function (bypassing control loop)</p>
<p>May be called from an ISR which detected overvoltage / overcurrent conditions.</p>
<p>DC/DC will be restarted automatically from control function if condtions are valid. </p>

</div>
</div>
<a class="anchor" id="a7215e0d3e8b222c129c2dc7aa3360908"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Dcdc::test </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test mode for DC/DC, ramping up to 50% duty cycle </p>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="a4ea68a948902a5f8aa80d670d5fd3c2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t Dcdc::restart_interval</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Restart interval (s): When should we retry to start charging after low output power cut-off? </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="dcdc_8h_source.html">dcdc.h</a></li>
<li>src/dcdc.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classDcdc.html">Dcdc</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
